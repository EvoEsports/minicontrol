{% extends "core/templates/widget.twig" %}

{% block content %}
    <frame pos="6.5 -2.25" z-index="1">
        <!-- Button 1: Live -->
        <label pos="0 0" z-index="2" size="12 3.5" text="Live" halign="center" valign="center2" textsize="1" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "live" %}fff{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="000" textcolor="{% if data.type == "live" %}{{ colors.title_bg }}{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['liveAction']}}" />

        <!-- Button 2: Server -->
        <label pos="12.5 0" z-index="2" size="12 3.5" text="Server" halign="center" valign="center2" textsize="1" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "server" %}fff{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="000" textcolor="{% if data.type == "server" %}{{ colors.title_bg }}{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['serverAction']}}" />

        <!-- Button 3: World -->
        <label pos="25 0" z-index="2" size="12 3.5" text="World" halign="center" valign="center2" textsize="1" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "world" or data.type == "dedimania" %}fff{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="000" textcolor="{% if data.type == "world" or data.type == "dedimania" %}{{ colors.title_bg }}{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['worldAction']}}" />
    </frame>

    {% if data.records|length == 0 %}
            <label pos="19 -6" z-index="3" size="38 3" text="$fffNo records" halign="center" valign="center" textsize="1" textfont="RobotoCondensedBold"/>
    {% else %}
	{% for item in data.records %}
		<frame pos="0 -{{ loop.index0 * 4 + 5}}" z-index="2">

            {% if loop.index == 1 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="db0e" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index == 2 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="aabe" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index == 3 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="963e" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index > 3 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="fff" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$000{{ item.rank }}" scale="0.8" halign="center" valign="center" textsize="1" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if item.rank == data.myRank + 1 %}
                <quad pos="2.5 0" z-index="1" size="4 3" bgcolor="090e" halign="center"/>
            {% endif %}

            <label pos="5 -1.75" z-index="1" size="22 2.25" text="${{colors.widget_text}}{{item.nickname}}" halign="left" valign="center2" textsize="1" textfont="RobotoCondensedBold"/>

            <label pos="32 -1.25" z-index="3" size="10 3" scale="0.85" text="$fff{{ item.formattedTime }}" halign="center" valign="center" textsize="1" textfont="RobotoCondensedBold"/>
			<!--<quad pos="5 0" z-index="1" size="10 3" bgcolor="7778" /> -->

        </frame>
	{% endfor %}
    {% endif %}
{% endblock %}
