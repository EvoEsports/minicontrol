{% extends "core/templates/widget.xml.twig" %}

{% block content %}
    <frame pos="6.5 -2.25" z-index="1">
        <!-- Button 1: Live -->
        <label pos="0 0" z-index="2" size="12 3.5" text="{% if data.type == "live" %}$o{% endif %}Live" halign="center" valign="center" textsize="0.6" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "live" %}{{colors.highlight}}{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="{{colors.highlight}}" textcolor="{% if data.type == "live" %}fff{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['liveAction']}}" />

        <!-- Button 2: Server -->
        <label pos="12.5 0" z-index="2" size="12 3.5" text="{% if data.type == "server" %}$o{% endif %}Server" halign="center" valign="center" textsize="0.6" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "server" %}{{colors.highlight}}{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="{{colors.highlight}}" textcolor="{% if data.type == "server" %}fff{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['serverAction']}}" />

        <!-- Button 3: World -->
        <label pos="25 0" z-index="2" size="12 3.5" text="{% if data.type == "world" or data.type == "dedimania" %}$o{% endif %}World" halign="center" valign="center" textsize="0.6" textfont="RobotoCondensedBold" focusareacolor1="{% if data.type == "world" or data.type == "dedimania" %}{{colors.highlight}}{% else %}{{colors.button_bg}}e{% endif %}" focusareacolor2="{{colors.highlight}}" textcolor="{% if data.type == "world" or data.type == "dedimania" %}fff{% else %}{{colors.title_fg}}{% endif %}" action="{{actions['worldAction']}}" />
    </frame>

    {% if data.records|length == 0 %}
            <label pos="19 -6" z-index="3" size="38 3" text="$fffNO RECORDS" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
    {% else %}
	{% for item in data.records %}
		<frame pos="0 -{{ loop.index0 * 4 + 5}}" z-index="2">

            {% if loop.index == 1 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="db0e" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index == 2 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="aabe" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index == 3 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="963e" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$o$fff{{ item.rank }}" halign="center" valign="center" textsize="0.7" textfont="RobotoCondensedBold"/>
            {% endif %}
            {% if loop.index > 3 %}
                <quad pos="2.5 0" z-index="0" size="4 3" bgcolor="fff" halign="center"/>
                <label pos="2.5 -1.25" z-index="3" size="3.5 3" text="$000{{ item.rank }}" scale="0.8" halign="center" valign="center" textsize="1" textfont="RobotoCondensedBold"/>
            {% endif %}

            <label pos="6 -1.75" z-index="1" size="22 2.25" text="${{colors.widget_text}}{{item.nickname}}" scale="0.85" halign="left" valign="center2" textsize="1" textfont="RobotoCondensedBold"/>
            <label pos="33 -1.9" z-index="3" size="30 3" scale="0.25" text="$fff{{ item.formattedTime }}" halign="center" valign="center2" textsize="1" textfont="RobotoCondensedBold" style="TextRaceChrono" />

			{% if item.rank == data.myRank + 1 %}
                <quad pos="5 0" z-index="-1" size="{{ 22.5 }} 3.5" bgcolor="000a" />
                <quad pos="33 0" z-index="-1" size="{{ 10 }} 3.5" bgcolor="000a" halign="center" />
                <quad pos="5 0" z-index="0" size="{{ 22.5 }} 3.5" bgcolor="{{colors.highlight}}9" />
                <quad pos="33 0" z-index="0" size="{{ 10 }} 3.5" bgcolor="{{colors.highlight}}9" halign="center" />
            {% else %}
                <quad pos="5 0" z-index="-1" size="{{ 22.5 }} 3.5" bgcolor="000a" />
                <quad pos="33 0" z-index="-1" size="{{ 10 }} 3.5" bgcolor="000a" halign="center" />
            {% endif %}

        </frame>
	{% endfor %}
    {% endif %}
{% endblock %}
